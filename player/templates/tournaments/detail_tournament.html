{% extends "tournaments/index.html" %}

{% block content %}

<!-- Main jumbotron for a primary marketing message or call to action -->
<div class="jumbotron">
  <h1>{{ tournament.name }}</h1>
</div>

<div class="page-header">
  <h1>Teams</h1>
</div>

<ul>
  {% for team in tournament.teams.all %}
    <li><a href="{% url 'detail_team' tournament.id team.id %}">{{ team.name }}</a></li>
  {% endfor %}
</ul>

{% if sorted_pools %}
<div class="page-header">
  <h1>Pool Stage</h1>
</div>

{% for key, list in sorted_pools.items %}
<div class="row">

  <div class="col-md-4">
    <table class="table table-striped table-condensed">
      <thead>
	<tr class="success">
	  <th>{{key}}</th>
	  <th>P</th>
	  <th>W</th>
	  <th>L</th>
	  <th>D</th>
	  <th>+</th>
	  <th>-</th>
	  <th>+/-</th>
	  <th>Pts</th>
	</tr>
	<tbody>
	  {% for value in list %}
	  <tr>
	    <td>{{value.team}}</td>
	    <td>{{value.played}}</td>
	    <td>{{value.won}}</td>
	    <td>{{value.lost}}</td>
	    <td>{{value.drawn}}</td>
	    <td>{{value.plus}}</td>
	    <td>{{value.minus}}</td>
	    <td>{{value.plus_minus}}</td>
	    <td>{{value.points}}</td>
	  </tr>
	  {% endfor %}
	</tbody>
      </thead>
    </table>
  </div>

  <div class="col-md-6">
    <table class="table table-striped table-condensed table-bordered">
      <thead>
	<tr class="success">
	  <th colspan="5">{{key}} - Games</th>
	</tr>
	<tbody>
	  {% if games %}
	    {% for game in games %}
              {% if game.phase.round == key %}
	        <tr>
		  <td>{{game.local}}</td>
		  <td class="success">{{game.local_score}}</td>
		  <td>v</td>
		  <td class="success">{{game.visitor_score}}</td>
		  <td>{{game.visitor}}</td>
		</tr>
              {% endif %}
	    {% endfor %}
	  {% else %}
	  <td>No games are available.</td>
	  {% endif %}
	</tbody>
      </thead>
    </table>
  </div>
</div>
{% endfor %}
{% endif %}


{% if finals.items %}
<div class="page-header">
  <h1>Finals</h1>
</div>

{% for key1, values1  in finals.items %}

  <table class="table table-striped table-condensed table-bordered">
    <thead>
      <tr class="success">
	<th colspan="5">{{key1}}</th>
      </tr>      
      <tbody>
	{% for key2, values2 in values1.items %}
	  <tr>
	    <td>{{values2.local}}</td>
	    <td class="success">{{values2.local_score}}</td>
	    <td>v</td>
	    <td class="success">{{values2.visitor_score}}</td>
	    <td>{{values2.visitor}}</td>	    
	  </tr>
	{% endfor %}
      </tbody>
    </thead>
  </table>
{% endfor %}

{% endif %}

{% endblock %}


